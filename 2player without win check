// ConsoleApplication15.cpp : Defines the entry point for the console application.
//

#include "stdafx.h"
#include <iostream>
#include <Windows.h>


using namespace std;

HANDLE screen = GetStdHandle(STD_OUTPUT_HANDLE);
COORD coordinate;

void setP(int, int);




int main()
{
	char playField[3][3] = { '-','-','-','-','-','-','-','-','-' };
	int x = 12, y = 6, i = 0, a = 0, b = 0;
	bool versus = true;


	setP(x, y); cout << "^^^";
	
	while (versus == true)
	{
		
		setP(10, 3);	cout << "*-----------------*";		
		setP(10, 5);	cout << "|  " << playField[0][0] << "  |  " << playField[0][1] << "  |  " << playField[0][2] << "  | ";		
		setP(10, 7);	cout << "-------------------";		
		setP(10, 9);	cout << "|  " << playField[1][0] << "  |  " << playField[1][1] << "  |  " << playField[1][2] << "  | ";		
		setP(10, 11);	cout << "-------------------";		
		setP(10, 13);	cout << "|  " << playField[2][0] << "  |  " << playField[2][1] << "  |  " << playField[2][2] << "  | ";		
		setP(10, 15);	cout << "*-----------------*";

		system("pause>nul");

		

		if (GetAsyncKeyState(VK_DOWN) && y != 14)
		{
			setP(x, y); cout << "   ";
			y += 4;
			setP(x, y); cout << "^^^";
			a++;
			continue;
		}
		if (GetAsyncKeyState(VK_UP) && y != 6)
		{
			setP(x, y); cout << "   ";
			y -= 4;
			setP(x, y); cout << "^^^";
			a--;
			continue;
		}
		if (GetAsyncKeyState(VK_LEFT) && x != 12)
		{
			setP(x, y); cout << "   ";
			x -= 6;
			setP(x, y); cout << "^^^";
			b--;
			continue;
		}
		if (GetAsyncKeyState(VK_RIGHT) && x != 24)
		{
			setP(x, y); cout << "   ";
			x += 6;
			setP(x, y); cout << "^^^";
			b++;
			continue;
		}

		if (GetAsyncKeyState(VK_RETURN))
		{
			if ((i % 2 == 0) && (playField[a][b] == '-'))
			{
				playField[a][b] = 'X';
				i++;
			}
			else if (!(i % 2 == 0) && (playField[a][b] == '-'))
			{
				playField[a][b] = 'O';
				i++;
			}


		}


	}


    return 0;
}


void setP(int x, int y)
{
	coordinate.X = x;
	coordinate.Y = y;
	SetConsoleCursorPosition(screen, coordinate);
}
